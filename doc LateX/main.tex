\documentclass[12pt]{article}
\usepackage{graphicx} % for including figure 
\usepackage{geometry} % geometry package for mentioning margin length
\usepackage{hyperref}
\usepackage{dirtree}
\usepackage{url}
\geometry{margin=3cm} %for setting margin; DON'T CHANGE THIS
\bibliographystyle{plain}
\usepackage[boxed]{algorithm2e} % the boxed option keeps the algorithm in a box in the pdf.
                                % You can also use the option ruled or algoruled for a different output.
                                % For more information about the algorithm2e package you can read the docuemntation 
                                % at https://mirror.easyname.at/ctan/macros/latex/contrib/algorithm2e/doc/algorithm2e.pdf
\newcommand{\inlinecode}{\texttt}
\SetKw{KwBy}{by} % macro to increase the counter in for loop 'by' <quantity>  

\title{Project documentation}
\author{Lorenzo Zanolin}

\begin{document}
\maketitle

\section{Introduction}
The aim of this project is the study of Yao's protocol \cite{yao} and an useful application of it. More precisely, we will implement Secure multi-party computation; this field has the goal of creating methods for parties to jointly compute a function over their inputs while keeping those inputs private \cite{mpc}. In this project, the function we decided to implement is the \textit{8 bit sum}.

\section{Analysis}
We can focus on the sum computed by two parties, say Alice and Bob. The goal is to use \textit{MPC} to calulate the result while avoiding each member to know the others values; to do that we need an external component, called \textit{OT}.\\ This protocol allows two parties, Alice who
knows x and Bob who knows y, to compute jointly the value of $f(x, y)$ in a way that does not reveal to each side more information than can be deduced from $f(x, y)$ \cite{ot}. As already written, $f$ is the 8-bit sum.\\ Both Alice and Bob have a set of integers and need to compute the sum of everything.
Two new roles are introduced: Alice is the \textit{garbler} and has the responsibility of creating the garbled circuit, while Bob is the \textit{evaluator}.
They will behave as follows:
\begin{enumerate}
    \item Alice creates the garbled circuit and the tables and send them to Bob.
    \item Alice select her set, via input.
    \item Bob select his set, via input.
    \item Both interact with each other using OT.
    \item Bob evaluate the function result and sends it to Alice.
    \item Alice checks the correctness of the result, and sends it to Bob (in clear).
\end{enumerate}

\section{Implementation}
We will present how to implement the \textit{circuit} and how to make Alice and Bob comunicate securely.
\subsection{Circuit}
We will present briefly the 8-bit sum circuit. There are two basic components in this construction:
\begin{itemize}
    \item \textit{\hyperref[half]{Half Adder}}: used to sum the right-most digit;
    \item \textit{\hyperref[full]{Full adder}}:  used to sum a generic digit in the number, ranging from position 1 to 8. It receives in input also carry of the previous sum.
\end{itemize}

\begin{figure}[!htb]
    \begin{minipage}{0.48\textwidth}
        \centering
        \includegraphics[width=.7\linewidth]{../src/images/Half_adder.png}
        \caption{Half Adder}\label{half}
    \end{minipage}
    \hfill
    \begin{minipage}{0.48\textwidth}
        \centering
        \includegraphics[width=.8\linewidth]{../src/images/Full-adder.png}
        \caption{Full Adder}\label{full}
    \end{minipage}
\end{figure}

\footnote{\ref{half} was taken over \url{https://upload.wikimedia.org/wikipedia/commons/1/14/Half-adder.svg}\\ 
\ref{full} was taken over \url{https://upload.wikimedia.org/wikipedia/commons/a/a9/Full-adder.svg}.}

We then proceede creating the circuit by wiring 7 full adders and an half adder together, as represented in Figure \ref{circuit}.

\begin{figure}[!h]
    \centering
    \includegraphics[width=0.95\linewidth]{../src/images/Circuit.png}
    \caption{8-bit Adder}\label{circuit}
\end{figure}
\vfill
%\subsection{Implementation}
\subsubsection{Project structure}
The project will be developed using \textit{Python 3.9.10} and we will use functions provided in the GitHub repo \url{https://github.com/ojroques/garbled-circuit}\label{ref:git}.\\
There is also a dedicated GitHub page at \url{https://github.com/lorenzozanolin/garbledCircuit}.\\
The project has the following structure:
\dirtree{%
.1 src/..
.2 Makefile.
.2 images \hspace{5cm} \begin{minipage}[t]{10cm}
    This directory contains the images used{.}
    \end{minipage}.
.3 8-bit\_full\_adder.png.
.3 Circuit.png.
.3 Half\_adder.png.
.3 Full-adder.png.
.2 circuits \hspace{4.5cm} \begin{minipage}[t]{10cm}
    This directory contains the circuit used{.}
    \end{minipage}.
.3 add.json.
.2 code \hspace{5cm} \begin{minipage}[t]{10cm}
    This directory contains the code used{.}
    \end{minipage}.
.3 util.py.
.3 yao.py.
.3 ot.py.
.3 requirements.py.
.3 main.py.
.2 sets \hspace{5cm} \begin{minipage}[t]{10cm}
    This directory contains the sets saved{.}
    \end{minipage}.
.3 alice.txt.
.3 bob.txt.
}
The \textit{code} folder contains all the file that we will utilize for the secure communication. \inlinecode{ot.py, util.py, yao.py} are utilities taken from \hyperref[ref:git]{Ojroques repo}.\\ Since the communication is encrypted, we decided to use \textit{AES-CBC} as technique; we can see that in the file \textit{yao.py}, more precisely in the two functions \inlinecode{encrypt(key,data), decrypt(key,data)}.

\bibliography{thud}
 

\end{document}